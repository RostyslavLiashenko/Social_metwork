{"version":3,"sources":["components/Common/FormControls/FormControls.module.css","components/Navbar/Sidebar.module.css","components/Common/Pagination/pagination.module.css","components/Common/NotFound404/NotFound.module.css","hoc/withAuthRedirect.js","Redux/dialogs-reducer.js","components/Settings/ProfileDataForm.js","components/Settings/Settings.js","components/Common/FormControls/FormControls.js","api/api.js","assets/users_images/userPhoto.jpg","components/Header/Header.module.css","reportWebVitals.js","assets/sidebar/email.jpg","assets/sidebar/users.png","assets/sidebar/news.png","assets/sidebar/music.png","assets/sidebar/settings.png","helpers/useWindowSize.js","components/Navbar/Sidebar.js","components/Navbar/SidebarContainer.js","helpers/object-helpers.js","Redux/Users-reducer.js","components/Common/Pagination/Pagination.js","components/users/User.js","components/users/Users.js","Redux/users-selectors.js","components/users/usersContainer.js","assets/logo/logo2.png","components/Header/burgerIcon/burgerIcon.js","components/Header/dropDownMenu/DropDownMenu.js","components/Header/Header.js","Redux/auth-reducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","Redux/app-reducer.js","Redux/redux-store.js","components/Settings/SettingsContainer.js","components/Common/NotFound404/NotFound.js","App.js","index.js","components/users/user.module.css","components/Settings/Settings.module.css","components/Header/dropDownMenu/DropDownMenu.module.css","components/Login/login.module.css","components/Common/Preloader/Preloader.js","components/Header/burgerIcon/burgerIcon.module.css","helpers/validators.js","Redux/profile-reducer.js"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","SEND_MESSAGE","DELETE_MESSAGE","initialState","usersData","name","id","photo","userIcon","messages","sendMessageCreator","messageBody","userId","type","deleteMessageCreator","numMsg","dialogsReducer","action","newMassagesArr","newUsersData","map","data","splice","ProfileDataFormRedux","reduxForm","form","handleSubmit","user","error","onSubmit","className","classes","aboutMe","formSummaryError","CreateField","renderInput","required","placeholder","checkBox","Field","style","fontSize","label","component","renderCheckbox","Object","keys","contacts","key","contact","Button","variant","textTransform","backgroundColor","color","margin","startIcon","ProfileData","goToEditMode","path","hasAccess","some","entries","value","infoBlock","mainInfo","fullName","lookingForAJob","lookingForAJobDescription","textAlign","padding","onClick","withRouter","saveProfile","useState","editMode","setEditMode","authorizedUserId","settingsBlock","settings","initialValues","formData","then","FormControl","meta","touched","children","hasError","block","formControl","input","restProps","marginBottom","control","checked","onChange","validate","instance","axios","create","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","usersPage","get","res","follow","post","unfollow","delete","profileApi","getProfile","getStatus","updateStatus","status","put","setPhoto","filePhoto","FormData","append","setProfileData","profile","headerAPI","getUserAuth","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","useWindowSize","width","undefined","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","Sidebar","activeUrl","widthSize","sidebar","nav","item","active","itemContainer","sidebarIcon","src","profileIcon","alt","messageIcon","usersIcon","newsIcon","musicIcon","settingsIcon","history","location","pathname","updateObjectInArray","newObj","users","userID","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IN_PROGRESS","itemsPerPage","totalItemsCount","isFetching","followingInProgress","portionSize","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","isFollowing","followUnfollowFlow","apiMethod","actionCreator","dispatch","a","resultCode","usersReducer","followed","totalCount","filter","useStyles","makeStyles","root","background","borderRadius","maxHeight","maxWidth","transition","Pagination","onPageChange","classes1","pageCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPagePortionNumber","rightPagePortionNumber","pagination","IconButton","disabled","page","fontWeight","minWidth","selectedPage","User","userFlex","photos","small","userPhoto","avatar","btn","effect01","userStatus","Users","usersContainer","getUsersSelector","getUsersPerPage","createSelector","getTotalUsers","getCurrentPage","getIsFetching","getFollowingInProgress","getPageNeighbours","UsersClass","requestUsers","Preloader","compose","bind","setUsers","items","BurgerIcon","isOpenMenu","burgerClick","container","change","bar1","bar2","bar3","DropDownMenu","menu","hiddenMenu","blur","menuContent","event","stopPropagation","Header","setIsOpenMenu","header","stickyHeader","logoPhoto","loginBlock","authBlock","buttons","btnLogin","SET_USER_DATA","TOGGLE_FETCHING","SET_CAPTCHA_URL","captchaUrl","setAuthUserData","payload","setToggleFetching","setCaptchaUrl","url","authReducer","getState","localStorage","LoginReduxForm","formContainer","inputBlock","fullWidth","size","rememberBlock","removeItem","setItem","message","stopSubmit","_error","wrapper","INITIALIZED_SUCCESS","initialized","appReducer","reducer","combineReducers","profilePage","profileReducer","dialogsPage","app","formReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","addPhoto","Settings","NotFound","main","fof","DialogsContainer","lazy","ProfileContainer","App","alert","reason","console","log","promise","initializeApp","catchAllUnHandleErrors","fallback","SettingsContainer","UsersContainer","Login","exact","AppConnect","Promise","all","AppContainer","ReactDOM","render","document","getElementById","position","left","top","maxLengthCreator","maxLength","length","minLengthCreator","minLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_USER","SET_PHOTO","TOGGLE_LIKES","userPosts","likes","liked","addPostCreator","newText","toggleLikesCreator","postId","setStatus","getUserStatus","updateUserStatus","file","large","reject","trunc","random","newUserPosts","el","newLikes"],"mappings":"uGACAA,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,MAAQ,8B,mBCA9GD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,IAAM,qBAAqB,KAAO,sBAAsB,cAAgB,+BAA+B,OAAS,wBAAwB,YAAc,+B,oBCA3MD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,aAAe,mC,oBCA7ED,EAAOC,QAAU,CAAC,KAAO,uBAAuB,IAAM,sBAAsB,KAAO,yB,mHCG7EC,EAA6B,SAACC,GAChC,MAAO,CACHC,OAAQD,EAAME,KAAKD,SAaZE,IATU,SAACC,GAAe,IAC/BC,EAD8B,4JAEhC,WACI,OAAKC,KAAKC,MAAMN,OACT,cAACG,EAAD,eAAeE,KAAKC,QADK,cAAC,IAAD,CAAUC,GAAG,eAHjB,GACJC,IAAML,WAMtC,OAAOM,YAAQX,EAARW,CAAoCL,K,gICfzCM,EAAe,eACfC,EAAiB,iBAEjBC,EAAe,CACjBC,UAAW,CACP,CAACC,KAAM,QAASC,GAAI,EAAGC,MAAOC,IAAUC,SAAU,CAAC,QAAS,kBAC5D,CAACJ,KAAM,SAAUC,GAAI,EAAGC,MAAOC,IAAUC,SAAU,CAAC,KAAM,uBAAwB,4BAClF,CAACJ,KAAM,QAASC,GAAI,EAAGC,MAAOC,IAAUC,SAAU,CAAC,gBACnD,CAACJ,KAAM,QAASC,GAAI,EAAGC,MAAOC,IAAUC,SAAU,CAAC,iBAAkB,oBAAqB,2BAC1F,CAACJ,KAAM,QAASC,GAAI,EAAGC,MAAOC,IAAUC,SAAU,CAAC,wBACnD,CAACJ,KAAM,QAASC,GAAI,EAAGC,MAAOC,IAAUC,SAAU,MAiC7CC,EAAqB,SAACC,EAAaC,GAAd,MAA0B,CAACC,KAAMZ,EAAcU,cAAaC,WACjFE,EAAuB,SAACC,EAAQH,GAAT,MAAqB,CAACC,KAAMX,EAAgBa,SAAQH,WACzEI,IA/BQ,WAAmC,IAAlC1B,EAAiC,uDAAzBa,EAAcc,EAAW,uCACrD,OAAQA,EAAOJ,MACX,KAAMZ,EACF,IAAMiB,EAAc,sBAAO5B,EAAMc,UAAUa,EAAOL,OAAS,GAAGH,UAA1C,CAAoDQ,EAAON,cACzEQ,EAAe7B,EAAMc,UAAUgB,KAAI,SAAAC,GACrC,OAAIA,EAAKf,KAAOW,EAAOL,OACZ,2BACAS,GADP,IAEIZ,SAAUS,IAGXG,KAEX,OAAO,2BACA/B,GADP,IAEIc,UAAWe,IAGnB,KAAMjB,EAEF,OADAZ,EAAMc,UAAUa,EAAOL,OAAS,GAAGH,SAASa,OAAOL,EAAOF,OAAQ,GAC3D,2BACAzB,GADP,IAEIc,UAAU,YAAKd,EAAMc,aAG7B,QACI,OAAOd,K,oLC6BJiC,EAJcC,YAAU,CACnCC,KAAM,gBADmBD,EA3DL,SAAC,GAAiC,IAAhCE,EAA+B,EAA/BA,aAAcC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,MAC1C,OACI,uBAAMC,SAAUH,EAAcI,UAAWC,IAAQC,QAAjD,UACKJ,GACD,mBAAGE,UAAWC,IAAQE,iBAAtB,SACKL,IAEL,gCACI,8CACCM,YAAYC,IAAa,CAACC,KACvB,CAAC/B,KAAM,WAAYQ,KAAM,OAAQwB,YAAa,sBAEtD,qBAAKP,UAAWC,IAAQO,SAAxB,SACG,cAACC,EAAA,EAAD,CACIC,MAAO,CACHC,SAAU,QAEbpC,KAAK,iBACLqC,MAAM,oBACNC,UAAWC,QAGnB,gCACI,6CACCV,YAAYC,IAAa,GACtB,CAAC9B,KAAM,UAAWQ,KAAM,OAAQwB,YAAa,gBAErD,gCACI,kEACCH,YAAYC,IAAa,GACtB,CAAC9B,KAAM,4BAA6BQ,KAAM,OAAQwB,YAAa,mBAEtEQ,OAAOC,KAAKnB,EAAKoB,UAAU3B,KAAI,SAAA4B,GAC5B,OAAO,sBAAKlB,UAAWC,IAAQkB,QAAxB,UACH,iCAAOD,EAAP,OACCd,YAAYC,IAAa,GACtB,CAAC9B,KAAK,YAAD,OAAc2C,GAAOnC,KAAM,OAAQwB,YAAY,GAAD,OAAKW,OAHnBA,MAMjD,8BACI,cAACE,EAAA,EAAD,CACIC,QAAQ,YACRX,MAAO,CACHY,cAAe,YACfC,gBAAiB,UACjBC,MAAO,OACPb,SAAU,QACVc,OAAQ,aAEZ1C,KAAK,SACL2C,UAAW,cAAC,IAAD,IAVf,0B,QCxBHC,EAAc,SAAC,GAA2C,IAA1C9B,EAAyC,EAAzCA,KAAM+B,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,UAC/CC,EAAOhB,OAAOiB,QAAQnC,EAAKoB,UAAU3B,KAAI,YAAmB,IAAD,mBAAhB4B,EAAgB,KAAXe,EAAW,KAC3D,OAAQ,sBAAKjC,UAAWC,IAAQkB,QAAxB,UACJ,8BAAID,EAAJ,OADI,IACWe,IAD2Bf,MAIlD,OACI,sBAAKlB,UAAWC,IAAQiC,UAAxB,UACI,sBAAKlC,UAAWC,IAAQkC,SAAxB,UACI,gCACI,uCAActC,EAAKuC,YAEvB,gCACI,4DAAmCvC,EAAKwC,eAAiB,MAAQ,QAErE,gCACI,2CAAkBxC,EAAKK,WAE3B,gCACI,gEAAuCL,EAAKyC,gCAGpD,sBAAKtC,UAAWC,IAAQgB,SAAxB,UACI,6CACCc,KAEJD,GAAsB,cAATD,GACd,qBAAKnB,MAAO,CAAC6B,UAAW,UAAxB,SACI,cAACnB,EAAA,EAAD,CACIV,MAAO,CACHc,MAAO,OACPF,cAAe,YACfC,gBAAiB,UACjBiB,QAAS,WACTf,OAAQ,YACRd,SAAU,OAEdU,QAAQ,YACRoB,QAASb,EAVb,wBAiBDc,iBA9DE,SAAC,GAAyC,IAAxC7C,EAAuC,EAAvCA,KAAM8C,EAAiC,EAAjCA,YAAad,EAAoB,EAApBA,KAAS9D,EAAW,+CACtB6E,oBAAS,GADa,mBAC/CC,EAD+C,KACrCC,EADqC,KAEtD,IAAKjD,EAAM,OAAO,cAAC,IAAD,CAAU7B,GAAG,aAC/B,IAAM8D,EAAY/D,EAAMgF,mBAAqBlD,EAAKf,OAMlD,OACI,sBAAKkB,UAAWC,IAAQ+C,cAAxB,UACI,qBAAKhD,UAAWC,IAAQgD,SAAxB,sBACCJ,EAAW,cAAC,EAAD,CAAsBK,cAAerD,EAAMA,KAAMA,EAAME,SAR1D,SAACoD,GACdR,EAAYQ,GAAUC,MAAK,WACvBN,GAAY,SAON,cAAC,EAAD,CAAajD,KAAMA,EAAMiC,UAAWA,EAAWD,KAAMA,EAAMD,aAAc,kBAAMkB,GAAY,a,8NCfhGO,EAAc,SAAC,GAAwC,IAAD,IAAtCC,KAAOC,EAA+B,EAA/BA,QAASzD,EAAsB,EAAtBA,MAAQ0D,EAAc,EAAdA,SAC3CC,EAAWF,GAAWzD,EAC5B,OACI,sBAAKE,UAAWC,IAAQyD,MAAxB,UACI,qBAAK1D,UAAWyD,EAAWxD,IAAQ0D,YAAc,GAAjD,SACKH,IAEJC,GACD,qBAAKzD,UAAWC,IAAQH,MAAxB,SACKA,QAMJO,EAAc,SAACtC,GAAW,IAC5B6F,EAA6B7F,EAA7B6F,MAAgBC,GAAa9F,EAAtBuF,KADoB,YACEvF,EADF,mBAElC,OAAO,cAACsF,EAAD,2BAAiBtF,GAAjB,aAAwB,cAAC,IAAD,yBAAW2C,MAAK,aAAGoD,aAAc,QAAWF,EAAMlD,QAAYkD,GAAWC,QAE/F/C,EAAiB,SAAC,GAAD,IAAE8C,EAAF,EAAEA,MAAOhD,EAAT,EAASA,MAAT,OAC1B,8BACI,cAAC,IAAD,CACImD,QACI,cAAC,IAAD,CACIC,UAAWJ,EAAM3B,MACjBgC,SAAUL,EAAMK,SAChBvD,MAAOkD,EAAMlD,QAGrBE,MAAOA,OAINR,EAAc,SAACS,EAAWqD,EAAUnG,GAC7C,OACI,mCACI,cAAC,IAAD,aACI8C,UAAWA,EACXqD,SAAUA,GACNnG,Q,4EC5CpB,qJAEMoG,EAFN,OAEiBC,EAAMC,OAAO,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UAAW,0CAINC,EAAU,CACnBC,SADmB,SACVC,EAAaC,GAClB,OAAOT,EAASU,IAAT,qBAA2BF,EAA3B,kBAAgDC,IAAaxB,MAAK,SAAA0B,GAAG,OAAIA,EAAIvF,SAExFwF,OAJmB,SAIZvG,GACH,OAAO2F,EAASa,KAAT,iBAAwBxG,IAAM4E,MAAK,SAAA0B,GAAG,OAAIA,EAAIvF,SAEzD0F,SAPmB,SAOVzG,GACL,OAAO2F,EAASe,OAAT,iBAA0B1G,IAAM4E,MAAK,SAAA0B,GAAG,OAAIA,EAAIvF,UAGlD4F,EAAa,CACtBC,WADsB,SACXtG,GACP,OAAOqF,EAASU,IAAT,kBAAwB/F,IAAUsE,MAAK,SAAA0B,GAAG,OAAIA,EAAIvF,SAE7D8F,UAJsB,SAIZvG,GACN,OAAOqF,EAASU,IAAT,yBAA+B/F,KAE1CwG,aAPsB,SAOTC,GACT,OAAOpB,EAASqB,IAAT,iBAA+B,CAClCD,OAAQA,KAGhBE,SAZsB,SAYbC,GACL,IAAMvC,EAAW,IAAIwC,SAErB,OADAxC,EAASyC,OAAO,QAASF,GAClBvB,EAASqB,IAAT,gBAA8BrC,EAAU,CAC3CqB,QAAS,CACL,eAAgB,0BAI5BqB,eArBsB,SAqBPC,GACX,OAAO3B,EAASqB,IAAI,UAAWM,KAG1BC,EAAY,CACrBC,YADqB,WAEjB,OAAO7B,EAASU,IAAT,WAAwBzB,MAAK,SAAA0B,GAAG,OAAIA,EAAIvF,SAEnD0G,MAJqB,SAIfC,EAAOC,GAAwC,IAA9BC,EAA6B,wDAATC,EAAS,uCAChD,OAAOlC,EAASa,KAAK,aAAc,CAACkB,QAAOC,WAAUC,aAAYC,aAErEC,OAPqB,WAQjB,OAAOnC,EAASe,OAAO,gBAGlBqB,EAAc,CACvBC,cADuB,WAEnB,OAAOrC,EAASU,IAAT,+B,gCC3DA,QAA0B,uC,mBCCzCxH,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAe,6BAA6B,UAAY,0BAA0B,KAAO,qBAAqB,QAAU,wBAAwB,UAAY,0BAA0B,IAAM,oBAAoB,SAAW,yBAAyB,SAAW,2B,mDCWlSmJ,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBvD,MAAK,YAAkD,IAA/CwD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,2GCPC,MAA0B,kCCA1B,MAA0B,kCCA1B,MAA0B,iCCA1B,MAA0B,kCCA1B,MAA0B,qC,QCoB1BO,EAlBO,WAAO,IAAD,EACYrE,mBAAS,CACzCsE,WAAOC,EACPC,YAAQD,IAHY,mBACjBE,EADiB,KACLC,EADK,KAgBxB,OAXAC,qBAAU,WACN,SAASC,IACLF,EAAc,CACVJ,MAAOO,OAAOC,WACdN,OAAQK,OAAOE,cAKvB,OAFAF,OAAOG,iBAAiB,SAAUJ,GAClCA,IACO,kBAAMC,OAAOI,oBAAoB,SAAUL,MACnD,IACIH,G,OC4CIS,EAnDC,SAAC,GAAiB,IAAhBC,EAAe,EAAfA,UACRC,EAAYf,IAAgBC,MAClC,OACI,cAAC,WAAD,UACKc,GAAa,KACd,qBAAKhI,UAAWC,IAAQgI,QAAxB,SACI,sBAAKjI,UAAWC,IAAQiI,IAAxB,UACI,cAAC,IAAD,CAAMlI,UAAyB,aAAd+H,EAAA,UAA8B9H,IAAQkI,KAAtC,YAA8ClI,IAAQmI,QAAtD,UAAoEnI,IAAQkI,MAAQnK,GAAG,WAAxG,SACI,sBAAKgC,UAAWC,IAAQoI,cAAxB,UACI,qBAAKrI,UAAWC,IAAQqI,YAAaC,IAAKC,IAAaC,IAAI,YAC3D,gDAGR,cAAC,IAAD,CAAMzI,UAAyB,aAAd+H,EAAA,UAA8B9H,IAAQkI,KAAtC,YAA8ClI,IAAQmI,QAAtD,UAAoEnI,IAAQkI,MAAQnK,GAAG,WAAxG,SACI,sBAAKgC,UAAWC,IAAQoI,cAAxB,UACI,qBAAKrI,UAAWC,IAAQqI,YAAaC,IAAKG,EAAaD,IAAI,aAC3D,iDAGR,cAAC,IAAD,CAAMzI,UAAyB,WAAd+H,EAAA,UAA4B9H,IAAQkI,KAApC,YAA4ClI,IAAQmI,QAApD,UAAkEnI,IAAQkI,MAAQnK,GAAG,SAAtG,SACI,sBAAKgC,UAAWC,IAAQoI,cAAxB,UACI,qBAAKrI,UAAWC,IAAQqI,YAAaC,IAAKI,EAAWF,IAAI,UACzD,8CAGR,cAAC,IAAD,CAAMzI,UAAyB,UAAd+H,EAAA,UAA2B9H,IAAQkI,KAAnC,YAA2ClI,IAAQmI,QAAnD,UAAiEnI,IAAQkI,MAAQnK,GAAG,QAArG,SACI,sBAAKgC,UAAWC,IAAQoI,cAAxB,UACI,qBAAKrI,UAAWC,IAAQqI,YAAaC,IAAKK,EAAUH,IAAI,SACxD,6CAGR,cAAC,IAAD,CAAMzI,UAAyB,WAAd+H,EAAA,UAA4B9H,IAAQkI,KAApC,YAA4ClI,IAAQmI,QAApD,UAAkEnI,IAAQkI,MAAQnK,GAAG,SAAtG,SACI,sBAAKgC,UAAWC,IAAQoI,cAAxB,UACI,qBAAKrI,UAAWC,IAAQqI,YAAaC,IAAKM,EAAWJ,IAAI,UACzD,8CAGR,cAAC,IAAD,CAAMzI,UAAyB,cAAd+H,EAAA,UAA+B9H,IAAQkI,KAAvC,YAA+ClI,IAAQmI,QAAvD,UAAqEnI,IAAQkI,MACxFnK,GAAG,YADT,SAEI,sBAAKgC,UAAWC,IAAQoI,cAAxB,UACI,qBAAKrI,UAAWC,IAAQqI,YAAaC,IAAKO,EAAcL,IAAI,aAC5D,yD,QC1Cb/F,eANU,SAAC3E,GACtB,IAAMgK,EAAYhK,EAAMgL,QAAQC,SAASC,SACzC,OACI,cAAC,EAAD,CAASlB,UAAWA,O,wDCPfmB,EAAsB,SAAC1L,EAAO2B,EAAQgK,GAC/C,OAAO,2BACA3L,GADP,IAEI4L,MAAO5L,EAAM4L,MAAM9J,KAAI,SAACO,GACpB,OAAIA,EAAKrB,KAAOW,EAAOkK,OACZ,2BAAIxJ,GAASsJ,GACjBtJ,QCHbyJ,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAAqB,qBAErBvL,EAAe,CACjB+K,MAAO,GACPS,aAAc,GACdC,gBAAiB,EACjBnF,YAAa,EACboF,YAAY,EACZC,oBAAqB,GACrBC,YAAa,IA8CJC,EAAgB,SAACb,GAAD,MAAa,CAACtK,KAAMuK,EAAQD,WAC5Cc,EAAkB,SAACd,GAAD,MAAa,CAACtK,KAAMwK,EAAUF,WAEhDe,EAAiB,SAACzF,GAAD,MAAkB,CAAC5F,KAAM0K,EAAkB9E,gBAE5D0F,EAAmB,SAACN,GAAD,MAAiB,CAAChL,KAAM4K,EAAoBI,eAC/DO,EAA4B,SAACC,EAAazL,GAAd,MAA0B,CAACC,KAAM6K,EAAoBW,cAAazL,WAe9F0L,EAAkB,uCAAG,WAAO1L,EAAQ2L,EAAWC,EAAeC,GAAzC,SAAAC,EAAA,sEACPH,EAAU3L,GADH,OAEF,IAFE,OAEjB+L,YACLF,EAASD,EAAc5L,IAE3B6L,EAASL,GAA0B,EAAOxL,IALhB,2CAAH,4DAmBhBgM,EApFM,WAAmC,IAAlCtN,EAAiC,uDAAzBa,EAAcc,EAAW,uCACnD,OAAQA,EAAOJ,MACX,KAAMuK,EACF,OAAOJ,EAAoB1L,EAAO2B,EAAQ,CAAC4L,UAAU,IAEzD,KAAMxB,EACF,OAAOL,EAAoB1L,EAAO2B,EAAQ,CAAC4L,UAAU,IAEzD,KAAMvB,EACF,OAAO,2BACAhM,GADP,IAEI4L,MAAOjK,EAAOiK,QAGtB,KAAMK,EACF,OAAO,2BACAjM,GADP,IAEImH,YAAaxF,EAAOwF,cAG5B,KAAM+E,EACF,OAAO,2BACAlM,GADP,IAEIsM,gBAAiB3K,EAAO6L,aAGhC,KAAMrB,EACF,OAAO,2BACAnM,GADP,IAEIuM,WAAY5K,EAAO4K,aAG3B,KAAMH,EACF,OAAO,2BACApM,GADP,IAEIwM,oBAAqB7K,EAAOoL,YAAP,sBACb/M,EAAMwM,qBADO,CACc7K,EAAOL,SACtCtB,EAAMwM,oBAAoBiB,QAAO,SAAAzM,GAAE,OAAIA,IAAOW,EAAOL,YAGjE,QACI,OAAOtB,I,wFCpDb0N,GAAYC,aAAW,CACzBC,KAAM,CACFC,WAAY,UACZ7J,MAAO,OACP8J,aAAc,MACdC,UAAW,OACXC,SAAU,OACV/J,OAAQ,QACRgK,WAAY,kBACZ,UAAW,CACPjK,MAAO,UACP6J,WAAY,WAuDTK,GAlDI,SAAC,GAA6E,IAA5E5B,EAA2E,EAA3EA,gBAAiBD,EAA0D,EAA1DA,aAAc8B,EAA4C,EAA5CA,aAAchH,EAA8B,EAA9BA,YAAasF,EAAiB,EAAjBA,YACrE2B,EAAWV,KACXlD,EAAYf,IAAgBC,MAC9Bc,GAAa,MAAKiC,EAAc,GAChCjC,GAAa,MAAKiC,EAAc,GAGpC,IAFA,IAAI4B,EAAYC,KAAKC,KAAKjC,EAAkBD,GACxCmC,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAWI,IAC5BD,EAAME,KAAKD,GAEf,IAAIE,EAAeL,KAAKC,KAAKF,EAAY5B,GAVmD,EAWlDrH,mBAAS,GAXyC,mBAWrFwJ,EAXqF,KAWtEC,EAXsE,KAYxFC,GAAyBF,EAAgB,GAAKnC,EAAc,EAC5DsC,EAAyBH,EAAgBnC,EAE7C,OACI,sBAAKjK,UAAWC,IAAQuM,WAAxB,UACI,cAACC,EAAA,EAAD,CAAYzM,UAAW4L,EAASR,KAC5BsB,SAAUN,GAAiB,EAAG3J,QAAS,kBAAM4J,EAAiBD,EAAgB,IADlF,SAEI,cAAC,KAAD,CAAuBzL,SAAS,YAEnCqL,EAAMf,QAAO,SAAC0B,GAAD,OAAWA,GAASL,GAAyBK,GAAQJ,KAC9DjN,KAAI,SAAAqN,GACD,OAAQ,cAACvL,EAAA,EAAD,CACJV,MAAO,CACH2K,WAAY,OACZuB,WAAY,MACZnL,OAAQ,QACRoL,SAAU,QAEdpK,QAAS,kBAAMkJ,EAAagB,IAC5B3M,UAAW2E,IAAgBgI,EAAO1M,IAAQ6M,aAAe,GARrD,SAQqEH,GAAPA,MAE9E,cAACF,EAAA,EAAD,CACIzM,UAAW4L,EAASR,KACpBsB,SAAUN,EAAgBD,EAAc1J,QAAS,kBAAM4J,EAAiBD,EAAgB,IAF5F,SAGI,cAAC,KAAD,CAA0BzL,SAAS,gB,oBCjBpCoM,GAvCF,SAAC,GAAmD,IAAlDlN,EAAiD,EAAjDA,KAAMmK,EAA2C,EAA3CA,oBAAqBjF,EAAsB,EAAtBA,OAAQE,EAAc,EAAdA,SAC9C,OACI,sBAAmBjF,UAAWC,KAAQJ,KAAtC,UACI,sBAAKG,UAAWC,KAAQ+M,SAAxB,UACI,8BACI,cAAC,IAAD,CAAMhP,GAAE,mBAAc6B,EAAKrB,IAA3B,SACI,qBAAK+J,IAAK1I,EAAKoN,OAAOC,MAAQrN,EAAKoN,OAAOC,MAAQC,IAC7CnN,UAAWC,KAAQmN,OACnB3E,IAAI,YAGhB5I,EAAKkL,SACF,wBAAQ/K,UAAS,UAAKC,KAAQoN,IAAb,YAAoBpN,KAAQqN,UACrCZ,SAAU1C,EAAoBjI,MAAK,SAAAvD,GAAE,OAAIA,IAAOqB,EAAKrB,MACrDiE,QAAS,WACLwC,EAASpF,EAAKrB,KAH1B,SAKI,8CAEJ,wBAAQwB,UAAS,UAAKC,KAAQoN,IAAb,YAAoBpN,KAAQqN,UACrCZ,SAAU1C,EAAoBjI,MAAK,SAAAvD,GAAE,OAAIA,IAAOqB,EAAKrB,MACrDiE,QAAS,WACLsC,EAAOlF,EAAKrB,KAHxB,SAKI,+CAIZ,sBAAKwB,UAAWC,KAAQ1B,KAAxB,UACI,uCACA,+BAAOsB,EAAKtB,OACXsB,EAAK0F,QAAU,sBAAKvF,UAAWC,KAAQsN,WAAxB,UACZ,yCAAe,+BAAO1N,EAAK0F,iBA9B7B1F,EAAKrB,KCmBRgP,GArBD,SAACzP,GACX,OACI,sBAAKiC,UAAWC,KAAQwN,eAAxB,UACI,cAAC,GAAD,CACI3D,gBAAiB/L,EAAM+L,gBACvBD,aAAc9L,EAAM8L,aACpBlF,YAAa5G,EAAM4G,YACnBgH,aAAc5N,EAAM4N,aACpB1B,YAAalM,EAAMkM,cAEtBlM,EAAMqL,MAAM9J,KAAI,SAAAO,GAAI,OAAI,cAAC,GAAD,CAErBA,KAAMA,EACNmK,oBAAqBjM,EAAMiM,oBAC3BjF,OAAQhH,EAAMgH,OACdE,SAAUlH,EAAMkH,UAJXpF,EAAKrB,W,4BCdbkP,GAAmB,SAAAlQ,GAAK,OAAIA,EAAMoH,UAAUwE,OAI5CuE,IAHwBC,aAAeF,IAAkB,SAACtE,GACnE,OAAOA,EAAM6B,QAAO,kBAAM,QAEC,SAACzN,GAC5B,OAAOA,EAAMoH,UAAUiF,eAEdgE,GAAgB,SAACrQ,GAC1B,OAAOA,EAAMoH,UAAUkF,iBAEdgE,GAAiB,SAACtQ,GAC3B,OAAOA,EAAMoH,UAAUD,aAEdoJ,GAAgB,SAACvQ,GAC1B,OAAOA,EAAMoH,UAAUmF,YAEdiE,GAAyB,SAACxQ,GACnC,OAAOA,EAAMoH,UAAUoF,qBAEdiE,GAAoB,SAACzQ,GAC9B,OAAOA,EAAMoH,UAAUqF,aCArBiE,G,4MAKFvC,aAAe,SAACgB,GAAU,IAAD,EACgB,EAAK5O,OAC1CoQ,EAFqB,EACdA,cACMxB,EAFQ,EACA9C,e,uDALzB,WAAqB,IAAD,EACkC/L,KAAKC,OACvDoQ,EAFgB,EACTA,cADS,EACKxJ,YADL,EACkBkF,gB,oBAOtC,WACI,OACI,qCACK/L,KAAKC,MAAMgM,YAAc,cAACqE,GAAA,EAAD,IAC1B,cAAC,GAAD,CACItE,gBAAiBhM,KAAKC,MAAM+L,gBAC5BD,aAAc/L,KAAKC,MAAM8L,aACzB8B,aAAc7N,KAAK6N,aACnBhH,YAAa7G,KAAKC,MAAM4G,YACxByE,MAAOtL,KAAKC,MAAMqL,MAClBrE,OAAQjH,KAAKC,MAAMgH,OACnBE,SAAUnH,KAAKC,MAAMkH,SACrB+E,oBAAqBlM,KAAKC,MAAMiM,oBAChCC,YAAanM,KAAKC,MAAMkM,qB,GAtBnBhM,IAAML,WAwChByQ,gBAAQnQ,aAZC,SAACV,GACrB,MAAO,CACH4L,MAAOsE,GAAiBlQ,GACxBqM,aAAc8D,GAAgBnQ,GAC9BsM,gBAAiB+D,GAAcrQ,GAC/BmH,YAAamJ,GAAetQ,GAC5BuM,WAAYgE,GAAcvQ,GAC1BwM,oBAAqBgE,GAAuBxQ,GAC5CyM,YAAagE,GAAkBzQ,MAIS,CAC5CuH,OL6BkB,SAACjG,GACnB,8CAAO,WAAO6L,GAAP,SAAAC,EAAA,6DACHD,EAASL,GAA0B,EAAMxL,IADtC,SAEG0L,EAAmB1L,EAAQ2F,IAAQM,OAAOuJ,KAAK7J,KAAUyF,EAAeS,GAF3E,2CAAP,uDK9BQ1F,SLmCY,SAACnG,GACrB,8CAAO,WAAO6L,GAAP,SAAAC,EAAA,6DACHD,EAASL,GAA0B,EAAMxL,IADtC,SAEG0L,EAAmB1L,EAAQ2F,IAAQQ,SAASqJ,KAAK7J,KAAU0F,EAAiBQ,GAF/E,2CAAP,uDKpCkBP,iBAAgBE,4BAA2B6D,aLSrC,SAACxJ,EAAaC,GACtC,OAAO,SAAC+F,GACJA,EAASN,GAAiB,IAC1BM,EAASP,EAAezF,IACxBF,IAAQC,SAASC,EAAaC,GACzBxB,MAAK,SAAA7D,GATgB,IAACyL,EAUnBL,EAASN,GAAiB,IAC1BM,EAbQ,SAACvB,GAAD,MAAY,CAACrK,KAAMyK,EAAWJ,SAa7BmF,CAAShP,EAAKiP,QACvB7D,GAZmBK,EAYSzL,EAAKyL,WAZE,CAACjM,KAAM2K,EAAuBsB,uBKNlEqD,CAEXH,I,oBChEW,OAA0B,kC,oBCY1BO,GATI,SAAC,GAA+B,IAA9BC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,YAC7B,OACI,sBAAK3O,UAAW0O,EAAU,UAAMzO,KAAQ2O,UAAd,YAA2B3O,KAAQ4O,QAAnC,UAAiD5O,KAAQ2O,WAAanM,QAASkM,EAAzG,UACI,qBAAK3O,UAAWC,KAAQ6O,OACxB,qBAAK9O,UAAWC,KAAQ8O,OACxB,qBAAK/O,UAAWC,KAAQ+O,W,oBCyBrBC,GA7BM,SAAC,GAA+B,IAA9BN,EAA6B,EAA7BA,YAAaD,EAAgB,EAAhBA,WAChC,OACI,sBAAK1O,UAAW0O,EAAazO,KAAQiP,KAAX,UAAqBjP,KAAQkP,WAA7B,YAA2ClP,KAAQiP,MAAQzM,QAASkM,EAA9F,UACI,qBAAK3O,UAAWC,KAAQmP,OACxB,qBAAKpP,UAAWC,KAAQoP,YAAa5M,QAAS,SAAA6M,GAAK,OAAIA,EAAMC,mBAA7D,SACI,sBAAK9M,QAASkM,EAAd,UACI,qBAAK3O,UAAWC,KAAQkI,KAAxB,SACI,cAAC,IAAD,CAAMnK,GAAG,WAAT,uBAEJ,qBAAKgC,UAAWC,KAAQkI,KAAxB,SACI,cAAC,IAAD,CAAMnK,GAAG,WAAT,wBAEJ,qBAAKgC,UAAWC,KAAQkI,KAAxB,SACI,cAAC,IAAD,CAAMnK,GAAG,SAAT,qBAEJ,qBAAKgC,UAAWC,KAAQkI,KAAxB,SACI,cAAC,IAAD,CAAMnK,GAAG,QAAT,oBAEJ,qBAAKgC,UAAWC,KAAQkI,KAAxB,SACI,cAAC,IAAD,CAAMnK,GAAG,SAAT,qBAEJ,qBAAKgC,UAAWC,KAAQkI,KAAxB,SACI,cAAC,IAAD,CAAMnK,GAAG,YAAT,iCCwBTwR,GAzCA,SAACzR,GACZ,IAAMiK,EAAYf,IAAgBC,MADZ,EAEctE,oBAAS,GAFvB,mBAEf8L,EAFe,KAEHe,EAFG,KAGhBd,EAAc,WAChBc,GAAef,IAEnB,OACI,yBAAQ1O,UAAWgI,GAAa,IAAM/H,KAAQyP,OAA3B,UAAuCzP,KAAQyP,OAA/C,YAAyDzP,KAAQ0P,cAApF,UACK3H,GAAa,IACV,cAAC,IAAD,CAAMhK,GAAG,WAAT,SACI,qBACIuK,IAAKqH,GACLnH,IAAI,OACJvB,MAAM,YAGZ,cAAC,GAAD,CAAYyH,YAAaA,EAAaD,WAAYA,IAExD,sBAAK1O,UAAWC,KAAQ4P,WAAxB,UACK9R,EAAMgM,WAAa,cAACqE,GAAA,EAAD,IAAe,GAClCrQ,EAAMN,OAAS,sBAAKuC,UAAWC,KAAQ6P,UAAxB,UACR,qBAAK9P,UAAWC,KAAQ1B,KAAxB,SACKR,EAAMkI,QAEX,qBAAKjG,UAAWC,KAAQ8P,QAAxB,SACI,qBAAK/P,UAAWC,KAAQ2O,UAAxB,SACI,wBAAQ5O,UAAS,UAAKC,KAAQoN,IAAb,YAAoBpN,KAAQqN,UAAY7K,QAAS1E,EAAMuI,OAAxE,SACI,oDAKhB,cAAC,IAAD,CAAMtG,UAAS,UAAKC,KAAQ+P,SAAb,YAAyB/P,KAAQqN,UAAYtP,GAAG,SAA/D,SACI,8CAIZ,cAAC,GAAD,CAAc0Q,WAAYA,EAAYC,YAAaA,Q,SC3CzDsB,GAAgB,qBAChBC,GAAkB,kBAClBC,GAAkB,kBAElB9R,GAAe,CACjBS,OAAQ,KACRoH,MAAO,KACPD,MAAO,KACPxI,QAAQ,EACRsM,YAAY,EACZqG,WAAY,MAuBHC,GAAkB,SAACvR,EAAQmH,EAAOC,EAAOzI,GAAvB,MAAmC,CAC9DsB,KAAMkR,GACNK,QAAS,CAACxR,SAAQmH,QAAOC,QAAOzI,YAEvB8S,GAAoB,SAACxG,GAAD,MAAiB,CAAChL,KAAMmR,GAAiBnG,eAC7DyG,GAAgB,SAACJ,GAAD,MAAiB,CAACrR,KAAMoR,GAAiBG,QAAS,CAACF,gBAEnEpK,GAAc,WACvB,8CAAO,WAAO2E,GAAP,uBAAAC,EAAA,6DACHD,EAAS4F,IAAkB,IADxB,SAEgBxK,IAAUC,cAF1B,QAEGzG,EAFH,SAGOoL,EAAS4F,IAAkB,IACb,IAApBhR,EAAKsL,aAAmB,EACGtL,EAAKA,KAAzB2G,EADgB,EAChBA,MAAO1H,EADS,EACTA,GAAIyH,EADK,EACLA,MAClB0E,EAAS0F,GAAgB7R,EAAIyH,EAAOC,GAAO,KAN5C,2CAAP,uDAgCSM,GAAgB,WACzB,8CAAO,WAAOmE,GAAP,iBAAAC,EAAA,sEACerE,IAAYC,gBAD3B,OACG1B,EADH,OAEGsL,EAAatL,EAAIvF,KAAKkR,IAC5B9F,EAAS6F,GAAcJ,IAHpB,2CAAP,uDAoBWM,GAjFK,WAAmC,IAAlClT,EAAiC,uDAAzBa,GAAcc,EAAW,uCAClD,OAAQA,EAAOJ,MACX,KAAMkR,GACN,KAAME,GACF,OAAO,2BACA3S,GACA2B,EAAOmR,SAGlB,KAAMJ,GACF,OAAO,2BACA1S,GADP,IAEIuM,WAAY5K,EAAO4K,aAG3B,QACI,OAAOvM,ICvBnB,IAOeU,gBAPS,SAACV,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,OACnBwI,MAAOzI,EAAME,KAAKuI,MAClB8D,WAAYvM,EAAME,KAAKqM,cAGS,CAACzD,ODoEnB,WAClB,8CAAO,WAAOqE,EAAUgG,GAAjB,eAAA/F,EAAA,0DACgBgG,aAAaxK,WAD7B,uBAGOF,EAAQyK,IAAWjT,KAAKwI,MAC9ByE,EAAS0F,GAAgB,KAAM,KAAMnK,GAAO,IAJ7C,0CAOeH,IAAUO,SAPzB,UAQyB,IARzB,OAQK/G,KAAKsL,WARV,0CASQF,EAAS0F,GAAgB,KAAM,KAAM,MAAM,KATnD,4CAAP,0DCrEWnS,EAXf,SAAyBH,GACrB,OAAO,cAAC,GAAD,eAAYA,O,gDC0EjB8S,GAAiBnR,aAAU,CAC7BC,KAAM,SADaD,EArEL,SAAC,GAAuC,IAAtCE,EAAqC,EAArCA,aAAcE,EAAuB,EAAvBA,MAAOsQ,EAAgB,EAAhBA,WACrC,OACI,uBAAMrQ,SAAUH,EAAcI,UAAWC,KAAQ6Q,cAAjD,UACI,sBAAK9Q,UAAWC,KAAQ8Q,WAAxB,UACI,qBAAK/Q,UAAWC,KAAQiG,MAAxB,qBACC9F,aAAYC,KAAa,CAACC,MAAW,CAClCI,MAAO,CACPa,gBAAiB,OACjBE,OAAQ,QAERuP,WAAW,EACXC,KAAM,QACN1S,KAAM,QACN8C,QAAS,WACTtC,KAAM,QACNwB,YAAa,aAIrB,sBAAKP,UAAWC,KAAQ8Q,WAAxB,UACI,qBAAK/Q,UAAWC,KAAQkG,SAAxB,wBACC/F,aAAYC,KAAa,CAACC,MAAW,CAClCI,MAAO,CACPa,gBAAiB,OACjBE,OAAQ,QAERuP,WAAW,EACXC,KAAM,QACN1S,KAAM,WACN8C,QAAS,WACTtC,KAAM,WACNwB,YAAa,gBAGrB,qBAAKP,UAAWC,KAAQiR,cAAxB,SACK9Q,aAAYU,KAAgB,GAAI,CAC7BvC,KAAM,aACNqC,MAAO,eAGdwP,GACD,gCACI,qBAAK7H,IAAK6H,EAAY3H,IAAI,YAC1B,8BACKrI,aAAYC,KAAa,CAACC,MAAW,CAClC/B,KAAM,UAAWQ,KAAM,OACvBwB,YAAa,4BAIxBT,GAAS,mBAAGE,UAAWC,KAAQE,iBAAtB,SACLL,IAEL,8BACI,cAACsB,EAAA,EAAD,CACIV,MAAO,CACHc,MAAO,OACPgB,QAAS,WACTf,OAAQ,MACRF,gBAAiB,WAErBxC,KAAK,SAPT,2BA4CDb,gBAXS,SAACV,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,OACnB2S,WAAY5S,EAAME,KAAK0S,WACvBvQ,KAAM,CACFqG,MAAO1I,EAAME,KAAKwI,MAClBC,SAAUyK,aAAazK,SACvBC,aAAcwK,aAAaxK,eAIC,CAACH,MFtDpB,SAACC,EAAOC,EAAUC,EAAYC,GAC/C,8CAAO,WAAOsE,GAAP,iBAAAC,EAAA,sEACe7E,IAAUE,MAAMC,EAAOC,EAAUC,EAAYC,GAD5D,UAEyB,KADtBvB,EADH,QAEKvF,KAAKsL,WAFV,uBAGC+F,aAAaO,WAAW,cACxBP,aAAaO,WAAW,YACpB/K,IACAwK,aAAaQ,QAAQ,aAAchL,GACnCwK,aAAaQ,QAAQ,WAAYjL,IAErCwE,EAAS3E,MATV,0BAYyB,KAAxBlB,EAAIvF,KAAKsL,YACTF,EAASnE,MAEP6K,EAAUvM,EAAIvF,KAAKZ,SAAWmG,EAAIvF,KAAKZ,SAAS,GAAK,uBAC3DgM,EAAS2G,aAAW,QAAS,CAACC,OAAQF,KAhBnC,4CAAP,wDEqDWnT,EAzBD,SAAC,GAAuC,IAAtC+H,EAAqC,EAArCA,MAAOxI,EAA8B,EAA9BA,OAAQoC,EAAsB,EAAtBA,KAAMuQ,EAAgB,EAAhBA,WAIjC,OAAI3S,EACO,cAAC,IAAD,CAAUO,GAAI,aAGrB,sBAAKgC,UAAWC,KAAQuR,QAAxB,UACI,uCACA,cAACX,GAAD,CAAgB3N,cAAerD,EAAMuQ,WAAYA,EAAYrQ,SATrD,SAACoD,GACb8C,EAAM9C,EAAS+C,MAAO/C,EAASgD,SAAUhD,EAASiD,WAAYjD,EAASkD,kBCpFzEoL,GAAsB,sBACtBpT,GAAe,CACjBqT,aAAa,GAuBFC,GApBI,WAAmC,IAAlCnU,EAAiC,uDAAzBa,GAAcc,EAAW,uCACjD,OAAQA,EAAOJ,MACX,KAAM0S,GACF,OAAO,2BACAjU,GADP,IAEIkU,aAAa,IAGrB,QACI,OAAOlU,I,uCCPfoU,GAAUC,aAAgB,CAC1BC,YAAaC,KACbC,YAAa9S,KACb0F,UAAWkG,EACXpN,KAAMgT,GACNuB,IAAKN,GACLhS,KAAMuS,OAEJC,GAAmB1K,OAAO2K,sCAAwC/D,KAClEgE,GAAQC,aAAYV,GAASO,GAAiB9D,aAAQkE,aAAgBC,SAE5E/K,OAAO4K,MAAQA,GAEAA,U,oBCKAhE,gBAAQnQ,aARC,SAACV,GACrB,MAAO,CACHqC,KAAMrC,EAAMsU,YAAYjS,KACxBkD,iBAAkBvF,EAAME,KAAKoB,OAC7BrB,OAAQD,EAAME,KAAKD,UAKvB,CAAC2H,gBAAYqN,cAAU9P,mBAAehF,KAAkB+E,IAD7C2L,EAnBW,SAACtQ,GACvB,OACI,cAAC2U,GAAA,EAAD,2BACQ3U,GADR,IAEI8D,KAAM9D,EAAMgL,QAAQC,SAASC,SAC7BpJ,KAAM9B,EAAM8B,KACZ8C,YAAa5E,EAAM4E,kB,qBCFhBgQ,GATE,WACb,OACI,qBAAK3S,UAAS,UAAKC,KAAQ2S,MAA3B,SACI,qBAAK5S,UAAS,UAAKC,KAAQ4S,KAA3B,SACI,gDCSVC,GAAmB7U,IAAM8U,MAAK,kBAAM,iCACpCC,GAAmB/U,IAAM8U,MAAK,kBAAM,iCAEpCE,G,4KACF,SAAuB3D,GACnB4D,MAAM5D,EAAM6D,QACZC,QAAQC,IAAI/D,EAAM6D,OAAQ7D,EAAMgE,W,+BAEpC,WACIxV,KAAKC,MAAMwV,gBACX9L,OAAOG,iBAAiB,qBAAsB9J,KAAK0V,0B,kCAEvD,WACI/L,OAAOI,oBAAoB,qBAAsB/J,KAAK0V,0B,oBAG1D,WACI,OAAK1V,KAAKC,MAAM2T,YAIZ,sBAAK1R,UAAU,cAAf,UACI,cAAC,GAAD,IACA,cAAC,EAAD,IACA,qBAAKA,UAAU,sBAAf,SACI,cAAC,WAAD,CAAUyT,SAAU,cAACrF,GAAA,EAAD,IAApB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOvM,KAAK,YAAYhB,UAAW6S,KACnC,cAAC,IAAD,CAAO7R,KAAK,oBAAoBhB,UAAWmS,KAC3C,cAAC,IAAD,CAAOnR,KAAK,WAAWhB,UAAWiS,KAClC,cAAC,IAAD,CAAOjR,KAAK,SAAShB,UAAW8S,KAChC,cAAC,IAAD,CAAO9R,KAAK,SAAShB,UAAW+S,KAChC,cAAC,IAAD,CAAOC,OAAK,EAAChS,KAAK,IAAlB,SACI,cAAC,IAAD,CAAU7D,GAAG,eAEjB,cAAC,IAAD,CAAO6D,KAAK,IAAZ,SACI,cAAC,GAAD,gBAlBb,cAACuM,GAAA,EAAD,Q,GAfDnQ,IAAML,WAiDlBkW,GAAazF,aAAQ3L,IAAYxE,aANf,SAACV,GACrB,MAAO,CACHkU,YAAalU,EAAMyU,IAAIP,eAK3B,CACI6B,cJhDqB,kBAAM,SAAC5I,GAChC,IAAI2I,EAAU3I,EAAS3E,MACvB+N,QAAQC,IAAI,CAACV,IAAUlQ,MAAK,kBAAMuH,EAHE,CAAC5L,KAAM0S,YI+C5BpD,CAIhB4E,IAWYgB,GATM,WACjB,OACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAU5B,MAAOA,GAAjB,SACI,cAACyB,GAAD,SCxEhBI,IAASC,OACL,cAAC,GAAD,IACAC,SAASC,eAAe,SAM5B5N,K,mBCbApJ,EAAOC,QAAU,CAAC,eAAiB,6BAA6B,KAAO,mBAAmB,SAAW,uBAAuB,OAAS,qBAAqB,KAAO,mBAAmB,WAAa,yBAAyB,IAAM,kBAAkB,SAAW,yB,mBCA7PD,EAAOC,QAAU,CAAC,cAAgB,gCAAgC,QAAU,0BAA0B,SAAW,2BAA2B,SAAW,2BAA2B,iBAAmB,mCAAmC,SAAW,2BAA2B,QAAU,0BAA0B,SAAW,6B,mBCA7TD,EAAOC,QAAU,CAAC,KAAO,2BAA2B,WAAa,iCAAiC,KAAO,2BAA2B,YAAc,kCAAkC,KAAO,6B,mBCA3LD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,cAAgB,6BAA6B,WAAa,0BAA0B,MAAQ,qBAAqB,SAAW,wBAAwB,iBAAmB,gCAAgC,cAAgB,6BAA6B,MAAQ,qBAAqB,SAAW,0B,gCCD/U,gBAiBe8Q,IAfG,WAQd,OACI,qBACI7F,IAAI,oEACJ7H,MAVO,CACX8K,SAAU,QACVF,aAAc,MACdgJ,SAAU,WACVC,KAAM,MACNC,IAAK,OAMD/L,IAAI,a,mBCbhBpL,EAAOC,QAAU,CAAC,UAAY,8BAA8B,KAAO,yBAAyB,KAAO,yBAAyB,KAAO,yBAAyB,OAAS,6B,gCCDrK,sGAAO,IAAMgD,EAAW,SAAC2B,GACrB,IAAIA,EACJ,MAAO,qBAGEwS,EAAmB,SAACC,GAAD,OAAe,SAACzS,GAC5C,KAAIA,EAAM0S,QAAUD,GACpB,MAAM,0BAAN,OAAiCA,EAAjC,cAGSE,EAAmB,SAACC,GAAD,OAAe,SAAC5S,GAC5C,KAAIA,EAAM0S,QAAUE,GACpB,MAAM,+BAAN,OAAsCA,EAAtC,e,kVCREC,EAAW,WACXC,EAAmB,mBACnBC,EAAa,aACbC,EAAc,cACdC,EAAY,YACZC,EAAe,eAEf9W,EAAe,CACjB+W,UAAW,CACP,CAAC/D,QAAS,qBAAsBgE,MAAO,GAAI7W,GAAI,EAAGC,MAAOC,IAAU4W,OAAO,GAC1E,CAACjE,QAAS,oBAAqBgE,MAAO,GAAI7W,GAAI,EAAGC,MAAOC,IAAU4W,OAAO,GACzE,CAACjE,QAAS,2BAA4BgE,MAAO,GAAI7W,GAAI,EAAGC,MAAOC,IAAU4W,OAAO,IAEpFzV,KAAM,KACN0F,OAAQ,IAwECgQ,EAAiB,SAACC,GAAD,MAAc,CAACzW,KAAM+V,EAAUU,YAEhDC,EAAqB,SAACC,GAAD,MAAa,CAAC3W,KAAMoW,EAAcO,WAEvDC,EAAY,SAACpQ,GAAD,MAAa,CAACxG,KAAMiW,EAAYzP,WAG5CH,EAAa,SAACtG,GACvB,8CAAO,WAAO6L,GAAP,eAAAC,EAAA,sEACgBzF,IAAWC,WAAWtG,GADtC,OACGS,EADH,OAEHoL,EAPiC,CAAC5L,KAAMgW,EAAkBlV,KAOlCN,IAFrB,2CAAP,uDAKSqW,EAAgB,SAACvM,GAC1B,8CAAO,WAAOsB,GAAP,eAAAC,EAAA,sEACezF,IAAWE,UAAUgE,GADpC,OACGvE,EADH,OAEH6F,EAASgL,EAAU7Q,EAAIvF,OAFpB,2CAAP,uDAKSsW,EAAmB,SAACtQ,GAC7B,OAAO,SAACoF,GACJxF,IAAWG,aAAaC,GAAQnC,MAAK,SAAA0B,GACL,IAAxBA,EAAIvF,KAAKsL,YACTF,EAASgL,EAAUpQ,SAItBkN,EAAW,SAAC/M,GACrB,8CAAO,WAAOiF,GAAP,eAAAC,EAAA,sEACazF,IAAWM,SAASC,GADjC,OAEyB,KADxBZ,EADD,QAEKvF,KAAKsL,YACTF,GA1BcmL,EA0BKhR,EAAIvF,KAAKA,KAAK0N,OAAO8I,MA1BhB,CAAChX,KAAMmW,EAAWY,UAuB3C,iCAvBc,IAACA,IAuBf,OAAP,uDAOSnT,EAAc,SAACmD,GACxB,8CAAO,WAAO6E,EAAUgG,GAAjB,iBAAA/F,EAAA,6DACG9L,EAAS6R,IAAWjT,KAAKoB,OAD5B,SAEeqG,IAAWU,eAAeC,GAFzC,UAGyB,KADtBhB,EAFH,QAGKvF,KAAKsL,WAHV,gBAICF,EAASvF,EAAWtG,IAJrB,8BAMC6L,EAAS2G,YAAW,eAAgB,CAACC,OAAQzM,EAAIvF,KAAKZ,SAAS,MANhE,kBAOQoV,QAAQiC,OAAOlR,EAAIvF,KAAKZ,SAAS,KAPzC,4CAAP,yDAWWoT,IArHQ,WAAmC,IAAlCvU,EAAiC,uDAAzBa,EAAcc,EAAW,uCACrD,OAAQA,EAAOJ,MACX,KAAM+V,EACF,OAAO,2BACAtX,GADP,IAEI4X,UAAU,GAAD,mBAAM5X,EAAM4X,WAAZ,CAAuB,CAAC/D,QAASlS,EAAOqW,QAC7CH,MAAO,EAAG7W,GAAIsN,KAAKmK,MAAsB,IAAhBnK,KAAKoK,UAAiBzX,MAAOjB,EAAM4X,UAAU,GAAG3W,WAGrF,KAAMsW,EACF,IAAMoB,EAAe3Y,EAAM4X,UAAU9V,KAAI,SAAA0F,GAAI,kCACtCA,GADsC,IAEzCvG,MAAOU,EAAOU,KAAKoN,OAAOC,WAE9B,OAAO,2BACA1P,GADP,IAEIqC,KAAMV,EAAOU,KACbuV,UAAU,YAAKe,KAGvB,KAAMnB,EACF,OAAO,2BACAxX,GADP,IAEI+H,OAAQpG,EAAOoG,SAGvB,KAAM0P,EACF,OAAO,2BACAzX,GADP,IAEI4X,UAAW,YAAI5X,EAAM4X,WAAWnK,QAAO,SAAAmL,GAAE,OAAIA,EAAG5X,KAAOW,EAAOuW,YAGtE,KAAMR,EACF,IAAMiB,EAAe3Y,EAAM4X,UAAU9V,KAAI,SAAA0F,GAAI,kCACtCA,GADsC,IAEzCvG,MAAOU,EAAO2W,UAElB,OAAO,2BACAtY,GADP,IAEIqC,KAAK,2BAAKrC,EAAMqC,MAAZ,IAAkBpB,MAAOU,EAAO2W,OACpCV,UAAU,YAAKe,KAGvB,KAAMhB,EACF,IAAMkB,EAAW7Y,EAAM4X,UAAU9V,KAAI,SAAA0F,GACjC,OAAIA,EAAKxG,KAAOW,EAAOuW,OACd1Q,EAAKsQ,MAMH,2BACAtQ,GADP,IAEIqQ,QAASrQ,EAAKqQ,MACdC,OAAO,IARA,2BACAtQ,GADP,IAEIqQ,QAASrQ,EAAKqQ,MACdC,OAAO,IAQZtQ,KAEX,OAAO,2BACAxH,GADP,IAEI4X,UAAU,YAAKiB,KAGvB,QACI,OAAO7Y,M","file":"static/js/main.abec670c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1Url4\",\"block\":\"FormControls_block__gtCLJ\",\"error\":\"FormControls_error__2-Vzq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__2Fln4\",\"nav\":\"Sidebar_nav__2Mg-B\",\"item\":\"Sidebar_item__2FoCB\",\"itemContainer\":\"Sidebar_itemContainer__36B5o\",\"active\":\"Sidebar_active__1Gi4H\",\"sidebarIcon\":\"Sidebar_sidebarIcon__2xXcQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"pagination_pagination__3e3lM\",\"selectedPage\":\"pagination_selectedPage__20x4_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"NotFound_main__1Lkht\",\"fof\":\"NotFound_fof__2-02o\",\"type\":\"NotFound_type__14M5N\"};","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nconst withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {return <Redirect to=\"/login\"/>}\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}\r\nexport default withAuthRedirect","import userIcon from '../assets/users_images/userPhoto.jpg'\r\n\r\nconst SEND_MESSAGE = 'SEND_MESSAGE'\r\nconst DELETE_MESSAGE = 'DELETE_MESSAGE'\r\n\r\nconst initialState = {\r\n    usersData: [\r\n        {name: 'Evgen', id: 1, photo: userIcon, messages: ['Hello', 'How are you ?']},\r\n        {name: 'Valera', id: 2, photo: userIcon, messages: ['Hi', 'What are you doing ?', 'Nothing, just chill out']},\r\n        {name: 'Mario', id: 3, photo: userIcon, messages: [\"What's up ?\"]},\r\n        {name: 'Dasha', id: 4, photo: userIcon, messages: ['Happy birthday', \"It's the best day\", \"I'm exiting to meeting\"]},\r\n        {name: 'Katya', id: 5, photo: userIcon, messages: ['How is it going ???']},\r\n        {name: 'Pasha', id: 6, photo: userIcon, messages: []},\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case (SEND_MESSAGE) : {\r\n            const newMassagesArr = [...state.usersData[action.userId - 1].messages, action.messageBody]\r\n            const newUsersData = state.usersData.map(data => {\r\n                if (data.id === action.userId) {\r\n                    return {\r\n                        ...data,\r\n                        messages: newMassagesArr\r\n                    }\r\n                }\r\n                return data\r\n            })\r\n            return {\r\n                ...state,\r\n                usersData: newUsersData\r\n            }\r\n        }\r\n        case (DELETE_MESSAGE) : {\r\n            state.usersData[action.userId - 1].messages.splice(action.numMsg, 1)\r\n            return {\r\n                ...state,\r\n                usersData: [...state.usersData]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const sendMessageCreator = (messageBody, userId) => ({type: SEND_MESSAGE, messageBody, userId})\r\nexport const deleteMessageCreator = (numMsg, userId) => ({type: DELETE_MESSAGE, numMsg, userId})\r\nexport default dialogsReducer;\r\n","import React from \"react\";\r\nimport {CreateField, renderCheckbox, renderInput} from \"../Common/FormControls/FormControls\";\r\nimport {required} from \"../../helpers/validators\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport classes from './Settings.module.css';\r\nimport {Button} from '@material-ui/core'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\n\r\nconst ProfileDataForm = ({handleSubmit, user, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={classes.aboutMe}>\r\n            {error &&\r\n            <p className={classes.formSummaryError}>\r\n                {error}\r\n            </p>}\r\n            <div>\r\n                <span>Full name:</span>\r\n                {CreateField(renderInput, [required],\r\n                    {name: 'fullName', type: 'text', placeholder: 'type your name'})}\r\n            </div>\r\n            <div className={classes.checkBox}>\r\n               <Field\r\n                   style={{\r\n                       fontSize: '.9em',\r\n                   }}\r\n                    name='lookingForAJob'\r\n                    label=\"looking for a job\"\r\n                    component={renderCheckbox}\r\n                />\r\n            </div>\r\n            <div>\r\n                <span>About me:</span>\r\n                {CreateField(renderInput, [],\r\n                    {name: 'aboutMe', type: 'text', placeholder: 'about me'})}\r\n            </div>\r\n            <div>\r\n                <span>Looking for a job description:</span>\r\n                {CreateField(renderInput, [],\r\n                    {name: 'lookingForAJobDescription', type: 'text', placeholder: 'description'})}\r\n            </div>\r\n            {Object.keys(user.contacts).map(key => {\r\n                return <div className={classes.contact} key={key}>\r\n                    <span>{key}:</span>\r\n                    {CreateField(renderInput, [],\r\n                        {name: `contacts.${key}`, type: 'text', placeholder: `${key}`})}\r\n                </div>\r\n            })}\r\n            <div>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    style={{\r\n                        textTransform: 'lowercase',\r\n                        backgroundColor: '#2b3120',\r\n                        color: '#fff',\r\n                        fontSize: '.95em',\r\n                        margin: '10px auto'\r\n                    }}\r\n                    type='submit'\r\n                    startIcon={<SaveIcon/>}\r\n                >\r\n                    save\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ProfileDataFormRedux = reduxForm({\r\n    form: 'edit-profile'\r\n})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormRedux","import React, {useState} from \"react\";\r\nimport classes from './Settings.module.css';\r\nimport ProfileDataFormRedux from './ProfileDataForm'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Button} from '@material-ui/core'\r\nimport {withRouter} from \"react-router\";\r\n\r\nconst Settings = ({user, saveProfile, path, ...props}) => {\r\n    const [editMode, setEditMode] = useState(false)\r\n    if (!user) return <Redirect to='/profile'/>\r\n    const hasAccess = props.authorizedUserId === user.userId\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(() => {\r\n            setEditMode(false)\r\n        })\r\n    }\r\n    return (\r\n        <div className={classes.settingsBlock}>\r\n            <div className={classes.settings}>Settings</div>\r\n            {editMode ? <ProfileDataFormRedux initialValues={user} user={user} onSubmit={onSubmit}/>\r\n                : <ProfileData user={user} hasAccess={hasAccess} path={path} goToEditMode={() => setEditMode(true)}/>}\r\n        </div>\r\n    )\r\n}\r\nexport const ProfileData = ({user, goToEditMode, path, hasAccess}) => {\r\n    let some = Object.entries(user.contacts).map(([key, value]) => {\r\n        return (<div className={classes.contact} key={key}>\r\n            <b>{key}:</b> {value}\r\n        </div>)\r\n    })\r\n    return (\r\n        <div className={classes.infoBlock}>\r\n            <div className={classes.mainInfo}>\r\n                <div>\r\n                    <b>Name: </b>{user.fullName}\r\n                </div>\r\n                <div>\r\n                    <b>I'm looking for a new job: </b>{user.lookingForAJob ? 'yes' : 'no'}\r\n                </div>\r\n                <div>\r\n                    <b>About me: </b>{user.aboutMe}\r\n                </div>\r\n                <div>\r\n                    <b>Looking for a job description: </b>{user.lookingForAJobDescription}\r\n                </div>\r\n            </div>\r\n            <div className={classes.contacts}>\r\n                <span>Contacts:</span>\r\n                {some}\r\n            </div>\r\n            {hasAccess && path === '/settings' &&\r\n            <div style={{textAlign: 'center'}}>\r\n                <Button\r\n                    style={{\r\n                        color: '#fff',\r\n                        textTransform: 'lowercase',\r\n                        backgroundColor: '#2b3120',\r\n                        padding: '5px 20px',\r\n                        margin: '10px auto',\r\n                        fontSize: '1em',\r\n                    }}\r\n                    variant='contained'\r\n                    onClick={goToEditMode}>\r\n                    edit\r\n                </Button>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Settings);","import React from 'react'\r\nimport classes from './FormControls.module.css';\r\nimport {Field} from \"redux-form\";\r\nimport {TextField, Checkbox, FormControlLabel} from \"@material-ui/core\";\r\n\r\nexport const FormControl = ({meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={classes.block}>\r\n            <div className={hasError ? classes.formControl : ''}>\r\n                {children}\r\n            </div>\r\n            {hasError &&\r\n            <div className={classes.error}>\r\n                {error}\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const renderInput = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}><TextField style={{marginBottom: '10px', ...input.style}} {...input} {...restProps}/></FormControl>\r\n}\r\nexport const renderCheckbox = ({input, label}) => (\r\n    <div>\r\n        <FormControlLabel\r\n            control={\r\n                <Checkbox\r\n                    checked={!!input.value}\r\n                    onChange={input.onChange}\r\n                    style={input.style}\r\n                />\r\n            }\r\n            label={label}\r\n        />\r\n    </div>\r\n)\r\nexport const CreateField = (component, validate, props) => {\r\n    return (\r\n        <>\r\n            <Field\r\n                component={component}\r\n                validate={validate}\r\n                {...props}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '4e536f42-e2a1-4856-99e0-638b4ee81dad'\r\n    }\r\n})\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage, usersPage) {\r\n        return instance.get(`users?page=${currentPage}&count=${usersPage}`).then(res => res.data)\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`).then(res => res.data)\r\n    },\r\n    unfollow(id) {\r\n        return instance.delete(`follow/${id}`).then(res => res.data)\r\n    },\r\n}\r\nexport const profileApi = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`).then(res => res.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {\r\n            status: status\r\n        })\r\n    },\r\n    setPhoto(filePhoto) {\r\n        const formData = new FormData()\r\n        formData.append('image', filePhoto)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    setProfileData(profile) {\r\n        return instance.put('profile', profile)\r\n    }\r\n}\r\nexport const headerAPI = {\r\n    getUserAuth() {\r\n        return instance.get(`auth/me`).then(res => res.data)\r\n    },\r\n    login(email, password, rememberMe = false, captcha) {\r\n        return instance.post('auth/login', {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    },\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/userPhoto.42fa9e28.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__26EkA\",\"stickyHeader\":\"Header_stickyHeader__3Er0D\",\"authBlock\":\"Header_authBlock__35g-b\",\"name\":\"Header_name__2_W7q\",\"buttons\":\"Header_buttons__8qqZ6\",\"container\":\"Header_container___c7J-\",\"btn\":\"Header_btn__3rrio\",\"effect01\":\"Header_effect01__1C-tt\",\"btnLogin\":\"Header_btnLogin__1lNiF\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/email.3585396a.jpg\";","export default __webpack_public_path__ + \"static/media/users.a662bdcb.png\";","export default __webpack_public_path__ + \"static/media/news.5f04c433.png\";","export default __webpack_public_path__ + \"static/media/music.0d195aec.png\";","export default __webpack_public_path__ + \"static/media/settings.6dba9d0f.png\";","import {useEffect, useState} from \"react\";\r\n\r\nconst useWindowSize = () => {\r\n    const [windowSize, setWindowSize] = useState({\r\n        width: undefined,\r\n        height: undefined,\r\n    });\r\n    useEffect(() => {\r\n        function handleResize() {\r\n            setWindowSize({\r\n                width: window.innerWidth,\r\n                height: window.innerHeight,\r\n            });\r\n        }\r\n        window.addEventListener(\"resize\", handleResize);\r\n        handleResize();\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n    return windowSize;\r\n}\r\nexport default useWindowSize\r\n\r\n","import React, {Fragment} from 'react';\r\nimport classes from './Sidebar.module.css';\r\nimport {Link} from 'react-router-dom';\r\nimport profileIcon from '../../assets/users_images/userPhoto.jpg'\r\nimport messageIcon from '../../assets/sidebar/email.jpg'\r\nimport usersIcon from '../../assets/sidebar/users.png'\r\nimport newsIcon from '../../assets/sidebar/news.png'\r\nimport musicIcon from '../../assets/sidebar/music.png'\r\nimport settingsIcon from '../../assets/sidebar/settings.png'\r\nimport useWindowSize from \"../../helpers/useWindowSize\";\r\n\r\nconst Sidebar = ({activeUrl}) => {\r\n    const widthSize = useWindowSize().width\r\n    return (\r\n        <Fragment>\r\n            {widthSize >= 450 &&\r\n            <div className={classes.sidebar}>\r\n                <nav className={classes.nav}>\r\n                    <Link className={activeUrl === '/profile' ? `${classes.item} ${classes.active}` : `${classes.item}`} to=\"/profile\">\r\n                        <div className={classes.itemContainer}>\r\n                            <img className={classes.sidebarIcon} src={profileIcon} alt=\"profile\"/>\r\n                            <span>Profile</span>\r\n                        </div>\r\n                    </Link>\r\n                    <Link className={activeUrl === '/dialogs' ? `${classes.item} ${classes.active}` : `${classes.item}`} to=\"/dialogs\">\r\n                        <div className={classes.itemContainer}>\r\n                            <img className={classes.sidebarIcon} src={messageIcon} alt=\"messages\"/>\r\n                            <span>Messages</span>\r\n                        </div>\r\n                    </Link>\r\n                    <Link className={activeUrl === '/users' ? `${classes.item} ${classes.active}` : `${classes.item}`} to=\"/users\">\r\n                        <div className={classes.itemContainer}>\r\n                            <img className={classes.sidebarIcon} src={usersIcon} alt=\"users\"/>\r\n                            <span>Users</span>\r\n                        </div>\r\n                    </Link>\r\n                    <Link className={activeUrl === '/news' ? `${classes.item} ${classes.active}` : `${classes.item}`} to=\"/news\">\r\n                        <div className={classes.itemContainer}>\r\n                            <img className={classes.sidebarIcon} src={newsIcon} alt=\"news\"/>\r\n                            <span>News</span>\r\n                        </div>\r\n                    </Link>\r\n                    <Link className={activeUrl === '/music' ? `${classes.item} ${classes.active}` : `${classes.item}`} to=\"/music\">\r\n                        <div className={classes.itemContainer}>\r\n                            <img className={classes.sidebarIcon} src={musicIcon} alt=\"music\"/>\r\n                            <span>Music</span>\r\n                        </div>\r\n                    </Link>\r\n                    <Link className={activeUrl === '/settings' ? `${classes.item} ${classes.active}` : `${classes.item}`}\r\n                          to=\"/settings\">\r\n                        <div className={classes.itemContainer}>\r\n                            <img className={classes.sidebarIcon} src={settingsIcon} alt=\"settings\"/>\r\n                            <span>Settings</span>\r\n                        </div>\r\n                    </Link>\r\n                </nav>\r\n            </div>\r\n            }\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","import React from \"react\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nconst SidebarContainer = (props) => {\r\n    const activeUrl = props.history.location.pathname\r\n    return (\r\n        <Sidebar activeUrl={activeUrl}/>\r\n    )\r\n}\r\nexport default withRouter(SidebarContainer)","export const updateObjectInArray = (state, action, newObj) => {\r\n    return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n            if (user.id === action.userID)\r\n                return {...user, ...newObj}\r\n            return user\r\n        })\r\n    }\r\n}","import {userAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../helpers/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IN_PROGRESS = 'TOGGLE_IN_PROGRESS';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    itemsPerPage: 10,\r\n    totalItemsCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10,\r\n}\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case (FOLLOW) : {\r\n            return updateObjectInArray(state, action, {followed: true})\r\n        }\r\n        case (UNFOLLOW) : {\r\n            return updateObjectInArray(state, action, {followed: false})\r\n        }\r\n        case (SET_USERS) : {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case (SET_CURRENT_PAGE) : {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage,\r\n            }\r\n        }\r\n        case (SET_TOTAL_USERS_COUNT) : {\r\n            return {\r\n                ...state,\r\n                totalItemsCount: action.totalCount,\r\n            }\r\n        }\r\n        case (TOGGLE_IS_FETCHING) : {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching,\r\n            }\r\n        }\r\n        case (TOGGLE_IN_PROGRESS) : {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFollowing ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID});\r\nexport const unfollowSuccess = (userID) => ({type: UNFOLLOW, userID})\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingInProgress = (isFollowing, userId) => ({type: TOGGLE_IN_PROGRESS, isFollowing, userId})\r\n\r\nexport const requestUsers = (currentPage, usersPage) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(currentPage))\r\n        userAPI.getUsers(currentPage, usersPage)\r\n            .then(data => {\r\n                dispatch(toggleIsFetching(false))\r\n                dispatch(setUsers(data.items));\r\n                dispatch(setTotalUsersCount(data.totalCount));\r\n            })\r\n    }\r\n}\r\n\r\nexport const followUnfollowFlow = async (userId, apiMethod, actionCreator, dispatch) => {\r\n        const data = await apiMethod(userId)\r\n        if (data.resultCode === 0) {\r\n            dispatch(actionCreator(userId))\r\n        }\r\n        dispatch(toggleFollowingInProgress(false, userId))\r\n}\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingInProgress(true, userId))\r\n        await followUnfollowFlow(userId, userAPI.follow.bind(userAPI), followSuccess, dispatch)\r\n    }\r\n}\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingInProgress(true, userId))\r\n        await followUnfollowFlow(userId, userAPI.unfollow.bind(userAPI), unfollowSuccess, dispatch)\r\n    }\r\n}\r\nexport default usersReducer;","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport classes from './pagination.module.css'\r\nimport useWindowSize from \"../../../helpers/useWindowSize\";\r\nimport {IconButton, Button} from \"@material-ui/core\";\r\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined';\r\nimport ArrowForwardOutlinedIcon from '@material-ui/icons/ArrowForwardOutlined';\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        background: '#2b3120',\r\n        color: '#fff',\r\n        borderRadius: '4px',\r\n        maxHeight: \"36px\",\r\n        maxWidth: '40px',\r\n        margin: \"0 5px\",\r\n        transition: '.2s ease-in-out',\r\n        '&:hover': {\r\n            color: '#2b3120',\r\n            background: '#fff'\r\n        }\r\n    }\r\n})\r\n\r\nconst Pagination = ({totalItemsCount, itemsPerPage, onPageChange, currentPage, portionSize}) => {\r\n    const classes1 = useStyles();\r\n    const widthSize = useWindowSize().width\r\n    if (widthSize <= 850) portionSize = 5\r\n    if (widthSize <= 450) portionSize = 4\r\n    let pageCount = Math.ceil(totalItemsCount / itemsPerPage)\r\n    let pages = []\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(pageCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPagePortionNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPagePortionNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={classes.pagination}>\r\n            <IconButton className={classes1.root}\r\n                disabled={portionNumber <= 1} onClick={() => setPortionNumber(portionNumber - 1)}>\r\n                <ArrowBackOutlinedIcon fontSize='small'/>\r\n            </IconButton>\r\n            {pages.filter((page) => (page) >= leftPagePortionNumber && page <= rightPagePortionNumber)\r\n                .map(page => {\r\n                    return (<Button\r\n                        style={{\r\n                            background: \"#fff\",\r\n                            fontWeight: \"600\",\r\n                            margin: \"0 3px\",\r\n                            minWidth: '42px'\r\n                        }}\r\n                        onClick={() => onPageChange(page)}\r\n                        className={currentPage === page ? classes.selectedPage : ''} key={page}>{page}</Button>)\r\n                })}\r\n            <IconButton\r\n                className={classes1.root}\r\n                disabled={portionNumber > portionCount} onClick={() => setPortionNumber(portionNumber + 1)}>\r\n                <ArrowForwardOutlinedIcon fontSize='small'/>\r\n            </IconButton>\r\n        </div>\r\n    )\r\n}\r\n\r\nPagination.propTypes = {\r\n    totalItemsCount: PropTypes.number,\r\n    itemsPerPage: PropTypes.number,\r\n    currentPage: PropTypes.number,\r\n    portionSize: PropTypes.number,\r\n    onPageChange: PropTypes.func\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport classes from './user.module.css'\r\nimport userPhoto from '../../assets/users_images/userPhoto.jpg'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst User = ({user, followingInProgress, follow, unfollow}) => {\r\n    return (\r\n        <div key={user.id} className={classes.user}>\r\n            <div className={classes.userFlex}>\r\n                <div>\r\n                    <Link to={`/profile/${user.id}`}>\r\n                        <img src={user.photos.small ? user.photos.small : userPhoto}\r\n                             className={classes.avatar}\r\n                             alt=\"ava\"/>\r\n                    </Link>\r\n                </div>\r\n                {user.followed ?\r\n                    <button className={`${classes.btn} ${classes.effect01}`}\r\n                            disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                unfollow(user.id)\r\n                            }}>\r\n                        <span>unfollow</span>\r\n                    </button> :\r\n                    <button className={`${classes.btn} ${classes.effect01}`}\r\n                            disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                follow(user.id)\r\n                            }}>\r\n                        <span>follow</span>\r\n                    </button>\r\n                }\r\n            </div>\r\n            <div className={classes.name}>\r\n                <b>Name: </b>\r\n                <span>{user.name}</span>\r\n                {user.status && <div className={classes.userStatus}>\r\n                    <b>Status: </b><span>{user.status}</span>\r\n                </div>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport Pagination from \"../Common/Pagination/Pagination\";\r\nimport User from \"./User\";\r\nimport classes from './user.module.css'\r\n\r\nconst Users = (props) => {\r\n    return (\r\n        <div className={classes.usersContainer}>\r\n            <Pagination\r\n                totalItemsCount={props.totalItemsCount}\r\n                itemsPerPage={props.itemsPerPage}\r\n                currentPage={props.currentPage}\r\n                onPageChange={props.onPageChange}\r\n                portionSize={props.portionSize}\r\n            />\r\n            {props.users.map(user => <User\r\n                key={user.id}\r\n                user={user}\r\n                followingInProgress={props.followingInProgress}\r\n                follow={props.follow}\r\n                unfollow={props.unfollow}\r\n            />)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;\r\n","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsersSelector = state => state.usersPage.users\r\nexport const getUsersSuperSelector = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(() => true)\r\n})\r\nexport const getUsersPerPage = (state) => {\r\n    return state.usersPage.itemsPerPage\r\n}\r\nexport const getTotalUsers = (state) => {\r\n    return state.usersPage.totalItemsCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\nexport const getPageNeighbours = (state) => {\r\n    return state.usersPage.portionSize\r\n}\r\n","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingInProgress,\r\n    requestUsers\r\n} from \"../../Redux/Users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from '../Common/Preloader/Preloader';\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageNeighbours,\r\n    getTotalUsers,\r\n    getUsersPerPage,\r\n    getUsersSelector,\r\n} from \"../../Redux/users-selectors\";\r\n\r\nclass UsersClass extends React.Component {\r\n    componentDidMount() {\r\n        const {requestUsers, currentPage, itemsPerPage} = this.props\r\n        requestUsers(currentPage, itemsPerPage)\r\n    }\r\n    onPageChange = (page) => {\r\n        const {requestUsers, itemsPerPage} = this.props\r\n        requestUsers(page, itemsPerPage)\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching && <Preloader/>}\r\n                <Users\r\n                    totalItemsCount={this.props.totalItemsCount}\r\n                    itemsPerPage={this.props.itemsPerPage}\r\n                    onPageChange={this.onPageChange}\r\n                    currentPage={this.props.currentPage}\r\n                    users={this.props.users}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    portionSize={this.props.portionSize}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        itemsPerPage: getUsersPerPage(state),\r\n        totalItemsCount: getTotalUsers(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPageNeighbours(state)\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    follow, unfollow, setCurrentPage, toggleFollowingInProgress, requestUsers\r\n}))(UsersClass)\r\n","export default __webpack_public_path__ + \"static/media/logo2.4446edea.png\";","import React from \"react\";\r\nimport classes from './burgerIcon.module.css';\r\n\r\nconst BurgerIcon = ({isOpenMenu, burgerClick}) => {\r\n    return (\r\n        <div className={isOpenMenu ? `${classes.container} ${classes.change}` : `${classes.container}`} onClick={burgerClick}>\r\n            <div className={classes.bar1}></div>\r\n            <div className={classes.bar2}></div>\r\n            <div className={classes.bar3}></div>\r\n        </div>\r\n    )\r\n}\r\nexport default BurgerIcon","import React from \"react\";\r\nimport classes from './DropDownMenu.module.css'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst DropDownMenu = ({burgerClick, isOpenMenu}) => {\r\n    return (\r\n        <div className={isOpenMenu ? classes.menu : `${classes.hiddenMenu} ${classes.menu}`} onClick={burgerClick}>\r\n            <div className={classes.blur}></div>\r\n            <div className={classes.menuContent} onClick={event => event.stopPropagation()}>\r\n                <div onClick={burgerClick}>\r\n                    <div className={classes.item}>\r\n                        <Link to=\"/profile\">Profile</Link>\r\n                    </div>\r\n                    <div className={classes.item}>\r\n                        <Link to=\"/dialogs\">Messages</Link>\r\n                    </div>\r\n                    <div className={classes.item}>\r\n                        <Link to=\"/users\">Users</Link>\r\n                    </div>\r\n                    <div className={classes.item}>\r\n                        <Link to=\"/news\">News</Link>\r\n                    </div>\r\n                    <div className={classes.item}>\r\n                        <Link to=\"/music\">Music</Link>\r\n                    </div>\r\n                    <div className={classes.item}>\r\n                        <Link to=\"/settings\">Settings</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default DropDownMenu","import React, {useState} from 'react';\r\nimport classes from './Header.module.css';\r\nimport {Link} from \"react-router-dom\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport logoPhoto from '../../assets/logo/logo2.png'\r\nimport useWindowSize from \"../../helpers/useWindowSize\";\r\nimport BurgerIcon from \"./burgerIcon/burgerIcon\";\r\nimport DropDownMenu from \"./dropDownMenu/DropDownMenu\";\r\n\r\nconst Header = (props) => {\r\n    const widthSize = useWindowSize().width\r\n    const [isOpenMenu, setIsOpenMenu] = useState(false)\r\n    const burgerClick = () => {\r\n        setIsOpenMenu(!isOpenMenu)\r\n    }\r\n    return (\r\n        <header className={widthSize >= 450 ? classes.header : `${classes.header} ${classes.stickyHeader}`}>\r\n            {widthSize >= 450 ?\r\n                <Link to='/profile'>\r\n                    <img\r\n                        src={logoPhoto}\r\n                        alt=\"logo\"\r\n                        width=\"140px\"\r\n                    />\r\n                </Link>\r\n                : <BurgerIcon burgerClick={burgerClick} isOpenMenu={isOpenMenu}/>\r\n            }\r\n            <div className={classes.loginBlock}>\r\n                {props.isFetching ? <Preloader/> : ''}\r\n                {props.isAuth ? <div className={classes.authBlock}>\r\n                        <div className={classes.name}>\r\n                            {props.login}\r\n                        </div>\r\n                        <div className={classes.buttons}>\r\n                            <div className={classes.container}>\r\n                                <button className={`${classes.btn} ${classes.effect01}`} onClick={props.logout}>\r\n                                    <span>log out</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div> :\r\n                    <Link className={`${classes.btnLogin} ${classes.effect01}`} to='/login'>\r\n                        <span>login</span>\r\n                    </Link>\r\n                }\r\n            </div>\r\n            <DropDownMenu isOpenMenu={isOpenMenu} burgerClick={burgerClick}/>\r\n        </header>\r\n    )\r\n}\r\nexport default Header;","import {headerAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING';\r\nconst SET_CAPTCHA_URL = 'SET_CAPTCHA_URL';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: false,\r\n    captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case (SET_USER_DATA) :\r\n        case (SET_CAPTCHA_URL) : {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        case (TOGGLE_FETCHING) : {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        default :\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n})\r\nexport const setToggleFetching = (isFetching) => ({type: TOGGLE_FETCHING, isFetching})\r\nexport const setCaptchaUrl = (captchaUrl) => ({type: SET_CAPTCHA_URL, payload: {captchaUrl}})\r\n\r\nexport const getUserAuth = () => {\r\n    return async (dispatch) => {\r\n        dispatch(setToggleFetching(true))\r\n        const data = await headerAPI.getUserAuth()\r\n        if (data) dispatch(setToggleFetching(false))\r\n        if (data.resultCode === 0) {\r\n            const {email, id, login} = data.data\r\n            dispatch(setAuthUserData(id, login, email, true))\r\n        }\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n    return async (dispatch) => {\r\n        const res = await headerAPI.login(email, password, rememberMe, captcha)\r\n        if (res.data.resultCode === 0) {\r\n            localStorage.removeItem('rememberMe')\r\n            localStorage.removeItem('password')\r\n            if (rememberMe) {\r\n                localStorage.setItem('rememberMe', rememberMe)\r\n                localStorage.setItem('password', password)\r\n            }\r\n            dispatch(getUserAuth())\r\n            return\r\n        }\r\n        if (res.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        const message = res.data.messages ? res.data.messages[0] : 'Something went wrong'\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => {\r\n    return async (dispatch) => {\r\n        const res = await securityAPI.getCaptchaUrl()\r\n        const captchaUrl = res.data.url\r\n        dispatch(setCaptchaUrl(captchaUrl))\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch, getState) => {\r\n        const rememberMe = localStorage.rememberMe\r\n        if (rememberMe) {\r\n            const email = getState().auth.email\r\n            dispatch(setAuthUserData(null, null, email, false))\r\n            return\r\n        }\r\n        const res = await headerAPI.logout()\r\n        if (res.data.resultCode === 0)\r\n            return dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\nexport default authReducer;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\n\r\nfunction HeaderContainer(props) {\r\n    return <Header {...props}/>\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        isFetching: state.auth.isFetching,\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {CreateField, renderCheckbox} from \"../Common/FormControls/FormControls\";\r\nimport {required} from \"../../helpers/validators\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router\";\r\nimport classes from './login.module.css';\r\nimport {Button} from \"@material-ui/core\";\r\nimport {renderInput} from \"../Common/FormControls/FormControls\";\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={classes.formContainer}>\r\n            <div className={classes.inputBlock}>\r\n                <div className={classes.email}>Email: </div>\r\n                {CreateField(renderInput, [required], {\r\n                    style: {\r\n                    backgroundColor: '#fff',\r\n                    margin: '10px',\r\n                },\r\n                    fullWidth: true,\r\n                    size: 'small',\r\n                    name: \"email\",\r\n                    variant: \"outlined\",\r\n                    type: \"email\",\r\n                    placeholder: \"email\",\r\n                })}\r\n\r\n            </div>\r\n            <div className={classes.inputBlock}>\r\n                <div className={classes.password}>Password: </div>\r\n                {CreateField(renderInput, [required], {\r\n                    style: {\r\n                    backgroundColor: '#fff',\r\n                    margin: '10px'\r\n                },\r\n                    fullWidth: true,\r\n                    size: 'small',\r\n                    name: \"password\",\r\n                    variant: \"outlined\",\r\n                    type: \"password\",\r\n                    placeholder: \"password\",\r\n                })}\r\n            </div>\r\n            <div className={classes.rememberBlock}>\r\n                {CreateField(renderCheckbox, [], {\r\n                    name: 'rememberMe',\r\n                    label: 'Remember'\r\n                })}\r\n            </div>\r\n            {captchaUrl &&\r\n            <div>\r\n                <img src={captchaUrl} alt=\"captcha\"/>\r\n                <div>\r\n                    {CreateField(renderInput, [required], {\r\n                        name: 'captcha', type: 'text',\r\n                        placeholder: 'symbols from image',\r\n                    } )}\r\n                </div>\r\n            </div>}\r\n            {error && <p className={classes.formSummaryError}>\r\n                {error}\r\n            </p>}\r\n            <div>\r\n                <Button\r\n                    style={{\r\n                        color: '#fff',\r\n                        padding: '7px 20px',\r\n                        margin: '5px',\r\n                        backgroundColor: '#2b3120'\r\n                    }}\r\n                    type='submit'>\r\n                    login\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login' // a unique name for this form\r\n})(LoginForm);\r\n\r\nconst Login = ({login, isAuth, user, captchaUrl}) => {\r\n    const addUser = (formData) => {\r\n        login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm initialValues={user} captchaUrl={captchaUrl} onSubmit={addUser}/>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl,\r\n        user: {\r\n            email: state.auth.email,\r\n            password: localStorage.password,\r\n            rememberMe: !!localStorage.rememberMe\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {login})(Login);","import {getUserAuth} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\nconst initialState = {\r\n    initialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case (INITIALIZED_SUCCESS) : {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nexport const initializeSuccess = () => ({type: INITIALIZED_SUCCESS})\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getUserAuth())\r\n    Promise.all([promise]).then(() => dispatch(initializeSuccess()))\r\n}\r\n\r\nexport default appReducer","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./Users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport {reducer as formReducers} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducers,\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducer, composeEnhancers(compose(applyMiddleware(thunk))));\r\n\r\nwindow.store = store\r\n\r\nexport default store;","import React from \"react\";\r\nimport Settings from \"./Settings\";\r\nimport {connect} from \"react-redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {addPhoto, getProfile, saveProfile} from \"../../Redux/profile-reducer\";\r\nimport {withRouter} from \"react-router\";\r\n\r\nconst SettingsContainer = (props) => {\r\n    return (\r\n        <Settings\r\n            {...props}\r\n            path={props.history.location.pathname}\r\n            user={props.user}\r\n            saveProfile={props.saveProfile}\r\n        />\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.profilePage.user,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps,\r\n    {getProfile, addPhoto, saveProfile}), withAuthRedirect, withRouter)(SettingsContainer)\r\n","import React from \"react\";\r\nimport classes from './NotFound.module.css'\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className={`${classes.main}`}>\r\n            <div className={`${classes.fof}`}>\r\n                <h1>Error 404</h1>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default NotFound;","import React, {Suspense} from 'react';\nimport './App.css';\nimport NavBarContainer from \"./components/Navbar/SidebarContainer\";\nimport UsersContainer from \"./components/users/usersContainer\";\nimport {HashRouter, Redirect, Route, Switch} from \"react-router-dom\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {initializeApp} from './Redux/app-reducer';\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {withRouter} from \"react-router\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport store from './Redux/redux-store'\nimport SettingsContainer from \"./components/Settings/SettingsContainer\";\nimport NotFound from \"./components/Common/NotFound404/NotFound\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\nclass App extends React.Component {\n    catchAllUnHandleErrors(event) {\n        alert(event.reason)\n        console.log(event.reason, event.promise)\n    }\n    componentDidMount() {\n        this.props.initializeApp()\n        window.addEventListener('unhandledrejection', this.catchAllUnHandleErrors)\n    }\n    componentWillUnmount() {\n        window.removeEventListener('unhandledrejection', this.catchAllUnHandleErrors)\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <NavBarContainer/>\n                <div className=\"app-wrapper-content\">\n                    <Suspense fallback={<Preloader />}>\n                        <Switch>\n                            <Route path=\"/settings\" component={SettingsContainer}/>\n                            <Route path=\"/profile/:userId?\" component={ProfileContainer}/>\n                            <Route path=\"/dialogs\" component={DialogsContainer}/>\n                            <Route path=\"/users\" component={UsersContainer}/>\n                            <Route path=\"/login\" component={Login}/>\n                            <Route exact path='/'>\n                                <Redirect to='/profile'/>\n                            </Route>\n                            <Route path=\"*\">\n                                <NotFound />\n                            </Route>\n                        </Switch>\n                    </Suspense>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        initialized: state.app.initialized,\n    }\n}\n\nconst AppConnect = compose(withRouter, connect(mapStateToProps,\n    {\n        initializeApp\n    }\n))(App);\n\nconst AppContainer = () => {\n    return (\n        <HashRouter>\n            <Provider store={store}>\n                <AppConnect/>\n            </Provider>\n        </HashRouter>\n    )\n}\nexport default AppContainer","import './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppContainer from './App';\n\nReactDOM.render(\n    <AppContainer/>,\n    document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"user_usersContainer__28esn\",\"user\":\"user_user__xd5Xx\",\"userFlex\":\"user_userFlex__29kug\",\"avatar\":\"user_avatar__3Zstu\",\"name\":\"user_name__R5A5S\",\"userStatus\":\"user_userStatus__14Wge\",\"btn\":\"user_btn__2--VM\",\"effect01\":\"user_effect01__2H0bB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingsBlock\":\"Settings_settingsBlock__2kyE4\",\"aboutMe\":\"Settings_aboutMe__2rUh2\",\"settings\":\"Settings_settings__22V4z\",\"mainInfo\":\"Settings_mainInfo__1nMCj\",\"formSummaryError\":\"Settings_formSummaryError__29-oC\",\"contacts\":\"Settings_contacts__3t4Ye\",\"contact\":\"Settings_contact__2PoJC\",\"checkBox\":\"Settings_checkBox__1qT3x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"DropDownMenu_menu__2jvdU\",\"hiddenMenu\":\"DropDownMenu_hiddenMenu__3bAA0\",\"blur\":\"DropDownMenu_blur__NQgcb\",\"menuContent\":\"DropDownMenu_menuContent__3xxSz\",\"item\":\"DropDownMenu_item__1tPor\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"login_wrapper__2vL4z\",\"formContainer\":\"login_formContainer__2zlk9\",\"inputBlock\":\"login_inputBlock__3ahI3\",\"email\":\"login_email__NP5un\",\"password\":\"login_password__2huYo\",\"formSummaryError\":\"login_formSummaryError__1aCUG\",\"rememberBlock\":\"login_rememberBlock__65Fzl\",\"boxes\":\"login_boxes__2W92z\",\"loginBtn\":\"login_loginBtn__2cjjY\"};","import React from \"react\";\r\n\r\nconst Preloader = () => {\r\n    const styles = {\r\n        maxWidth: '120px',\r\n        borderRadius: '50%',\r\n        position: 'absolute',\r\n        left: '40%',\r\n        top: '50%',\r\n    }\r\n    return (\r\n        <img\r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/c/c7/Loading_2.gif\"\r\n            style={styles}\r\n            alt=\"loader\"/>\r\n        )\r\n}\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"burgerIcon_container__cB7DV\",\"bar1\":\"burgerIcon_bar1__1Cfsb\",\"bar2\":\"burgerIcon_bar2__29ONa\",\"bar3\":\"burgerIcon_bar3__2Ukly\",\"change\":\"burgerIcon_change__iPCrN\"};","export const required = (value) => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length <= maxLength) return undefined\r\n    return `Field must include max ${maxLength} symbols`\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n    if (value.length >= minLength) return undefined\r\n    return `Field must include at least ${minLength} symbols`\r\n}","import {profileApi} from \"../api/api\";\r\nimport userIcon from '../assets/users_images/userPhoto.jpg'\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_USER = 'DELETE_USER'\r\nconst SET_PHOTO = 'SET_PHOTO'\r\nconst TOGGLE_LIKES = 'TOGGLE_LIKES'\r\n\r\nconst initialState = {\r\n    userPosts: [\r\n        {message: \"It's my first post\", likes: 31, id: 1, photo: userIcon, liked: false,},\r\n        {message: \"Hi, how are you ?\", likes: 44, id: 2, photo: userIcon, liked: false,},\r\n        {message: \"Just another good day...\", likes: 38, id: 3, photo: userIcon, liked: false,},\r\n    ],\r\n    user: null,\r\n    status: '',\r\n}\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case (ADD_POST) : {\r\n            return {\r\n                ...state,\r\n                userPosts: [...state.userPosts, {message: action.newText,\r\n                    likes: 0, id: Math.trunc(Math.random() * 100), photo: state.userPosts[0].photo}],\r\n            }\r\n        }\r\n        case (SET_USER_PROFILE) : {\r\n            const newUserPosts = state.userPosts.map(post => ({\r\n                ...post,\r\n                photo: action.user.photos.small\r\n            }))\r\n            return {\r\n                ...state,\r\n                user: action.user,\r\n                userPosts: [...newUserPosts]\r\n            }\r\n        }\r\n        case (SET_STATUS) : {\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        }\r\n        case (DELETE_USER) : {\r\n            return {\r\n                ...state,\r\n                userPosts: [...state.userPosts].filter(el => el.id !== action.postId)\r\n            }\r\n        }\r\n        case (SET_PHOTO) : {\r\n            const newUserPosts = state.userPosts.map(post => ({\r\n                ...post,\r\n                photo: action.file\r\n            }));\r\n            return {\r\n                ...state,\r\n                user: {...state.user, photo: action.file},\r\n                userPosts: [...newUserPosts],\r\n            }\r\n        }\r\n        case (TOGGLE_LIKES) : {\r\n            const newLikes = state.userPosts.map(post => {\r\n                if (post.id === action.postId) {\r\n                    if (!post.liked)\r\n                        return {\r\n                            ...post,\r\n                            likes: ++post.likes,\r\n                            liked: true\r\n                    }\r\n                    return {\r\n                        ...post,\r\n                        likes: --post.likes,\r\n                        liked: false,\r\n                    }\r\n                }\r\n                return post\r\n            })\r\n            return {\r\n                ...state,\r\n                userPosts: [...newLikes]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostCreator = (newText) => ({type: ADD_POST, newText})\r\nexport const deletePostCreator = (postId) => ({type: DELETE_USER, postId})\r\nexport const toggleLikesCreator = (postId) => ({type: TOGGLE_LIKES, postId})\r\nexport const setUserProfile = (user) => ({type: SET_USER_PROFILE, user})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const savePhoto = (file) => ({type: SET_PHOTO, file})\r\n\r\nexport const getProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        const data = await profileApi.getProfile(userId)\r\n        dispatch(setUserProfile(data))\r\n    }\r\n}\r\nexport const getUserStatus = (userID) => {\r\n    return async (dispatch) => {\r\n        const res = await profileApi.getStatus(userID)\r\n        dispatch(setStatus(res.data))\r\n    }\r\n}\r\nexport const updateUserStatus = (status) => {\r\n    return (dispatch) => {\r\n        profileApi.updateStatus(status).then(res => {\r\n            if (res.data.resultCode === 0)\r\n                dispatch(setStatus(status))\r\n        })\r\n    }\r\n}\r\nexport const addPhoto = (filePhoto) => {\r\n    return async (dispatch) => {\r\n        let res = await profileApi.setPhoto(filePhoto)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(savePhoto(res.data.data.photos.large))\r\n        }\r\n    }\r\n}\r\nexport const saveProfile = (profile) => {\r\n    return async (dispatch, getState) => {\r\n        const userId = getState().auth.userId\r\n        const res = await profileApi.setProfileData(profile)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(getProfile(userId))\r\n        } else {\r\n            dispatch(stopSubmit('edit-profile', {_error: res.data.messages[0]}))\r\n            return Promise.reject(res.data.messages[0])\r\n        }\r\n    }\r\n}\r\nexport default profileReducer;\r\n\r\n"],"sourceRoot":""}